const e=async()=>{try{return await fetch("https://67a727f0510789ef0dfd2245.mockapi.io/movies/movies").then(e=>e.json()).then(e=>i(e))}catch(e){console.log(e)}};e();const t=async e=>{try{return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/movies/${e}`,{method:"DELETE"})}catch(e){console.log(e)}},n=async(e,t)=>{let n={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/movies/${t}`,n)}catch(e){console.log(e)}},a=document.querySelector(".edit-modal"),d=(t,d,o,c,i)=>{let r=document.querySelector(".edit-form"),l=document.querySelector(".edit-close"),s=document.querySelector(".edit-director"),m=document.querySelector(".edit-genre"),u=document.querySelector(".edit-title"),p=document.querySelector(".edit-year");s.value=t.textContent,m.value=d.textContent,u.value=o.textContent,p.value=c.textContent,l.addEventListener("click",e=>{a.classList.add("is-hidden")}),r.addEventListener("submit",async t=>{t.preventDefault();let d={title:t.target.elements.title.value,genre:t.target.elements.genre.value,director:t.target.elements.director.value,year:t.target.elements.year.value};await n(d,i),await e(),a.classList.add("is-hidden")})},o=()=>{a.classList.remove("is-hidden")},c=document.querySelector(".get-films-list"),i=n=>{c.innerHTML="";for(let a=0;a<n.length;a++){let i=document.createElement("li"),r=document.createElement("div"),l=document.createElement("p"),s=document.createElement("p"),m=document.createElement("div"),u=document.createElement("p"),p=document.createElement("p"),v=document.createElement("div"),y=document.createElement("p"),f=document.createElement("p"),h=document.createElement("div"),E=document.createElement("p"),g=document.createElement("p"),L=document.createElement("div"),x=document.createElement("button"),C=document.createElement("button");i.dataset.id=n[a].id,i.classList.add("item"),r.classList.add("box"),m.classList.add("box"),v.classList.add("box"),h.classList.add("box"),L.classList.add("box"),s.textContent=n[a].director,l.textContent="Director: ",p.textContent=n[a].genre,u.textContent="Genre: ",f.textContent=n[a].title,y.textContent="Title: ",g.textContent=n[a].year,E.textContent="Year: ",x.textContent="delete film",C.textContent="edit film information",r.append(l,s),m.append(u,p),v.append(y,f),h.append(E,g),L.append(x,C),i.append(v,m,r,h,L),c.append(i),x.addEventListener("click",async n=>{await t(i.dataset.id),await e()}),C.addEventListener("click",e=>{o(),d(s,p,f,g,i.dataset.id)})}},r=async e=>{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch("https://67a727f0510789ef0dfd2245.mockapi.io/movies/movies",t)}catch(e){console.log(e)}},l=document.querySelector(".modal"),s=document.querySelector(".form"),m=document.querySelector(".form-close");document.querySelector(".add-film").addEventListener("click",e=>{l.classList.remove("is-hidden")}),m.addEventListener("click",e=>{l.classList.add("is-hidden")}),s.addEventListener("submit",async t=>{t.preventDefault();let n={title:t.target.elements.title.value,genre:t.target.elements.genre.value,director:t.target.elements.director.value,year:t.target.elements.year.value};await r(n),await e(),l.classList.add("is-hidden")});
//# sourceMappingURL=index.fb7a7070.js.map
